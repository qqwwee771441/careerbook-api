<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <title>네이버 로그인</title>
    <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js"
            charset="utf-8"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
</head>
<body>
<!-- 네이버 로그인 버튼 노출 영역 -->
<div id="naver_id_login"></div>
<div id="notalk_naver_login_token"></div>
<!-- //네이버 로그인 버튼 노출 영역 -->
<script type="text/javascript">
    function getCookie(cookie_name) {
        let cookies = document.cookie.split(';');

        for(let i=0; i<cookies.length; i++) {
            let name = cookies[i].substring(0, cookies[i].indexOf('='));
            let value = cookies[i].substring(cookies[i].indexOf('=') + 1);
            name = name.replace("/^\s+|\s+$/g", '');

            if (name == cookie_name) {
                alert("getCookie: " + name);
                return decodeURIComponent(value);
            }
        }
        return null;
    }

    let cookie = getCookie("notalk_naver_login_token");

    if (cookie != null) {
        document.getElementById("notalk_naver_login_token").innerHTML = cookie;
    }
    else {
        var naver_id_login = new naver_id_login("efUgrmVs90OkWSrZckbF", "http://localhost:8080/login/naver/callback");
        var state = naver_id_login.getUniqState();
        naver_id_login.setButton("white", 2, 40);
        naver_id_login.setDomain("http://localhost:8080");
        naver_id_login.setState(state);
        naver_id_login.setPopup();
        naver_id_login.init_naver_id_login();
    }
</script>
</body>
</html>
